!function(i){i.fn.QuestionJs=function(t){var n=null;return this.next=function(){n.goToNext()},this.each(function(){function o(){var i=v.top?v.top:g(),t=v.bottom?v.bottom:g()+1*g()/4;e.css("margin-top",i+"px"),e.css("margin-bottom",t+"px")}function s(){e.fadeTo("slow",1),e.find("li.item").each(function(t){i(this).attr("id","index"+t)}),e.find("li.item:first").addClass("focus"),r.animate({scrollTop:d},500)}function f(){function i(i){return Math.floor(i.position)<=h&&h<Math.floor(i.origin)}var t=l.filter(i)[0];t&&("DOWN"===u?(e.find("#"+t.id).prev("li").removeClass("focus"),e.find("#"+t.id).prev("li").hasClass("focus")||e.find("#"+t.id).addClass("focus")):"UP"===u&&(e.find("#"+t.id).next("li").removeClass("focus"),e.find("#"+t.id).next("li").hasClass("focus")||e.find("#"+t.id).addClass("focus")))}var e=i(this),r=e.parent(),a=0,d=0,u="",c=0,l=[],h=0;n=e;var p={top:0,bottom:0,height:400};e.fadeTo(0,0);var v=i.extend(p,t);e.parent().height(v.height);var m=function(){return e.parent().height()},g=function(){return.25*m()},x=function(){c=e.offset().top};d=v.top?v.top:g();var b=function(){l=[],e.find("li.item").each(function(){var t=i(this).offset().top-c;l.push({id:i(this).attr("id"),position:t,origin:i(this).position().top,bound:i(this)[0].getBoundingClientRect()})})};n.goToNext=function(){function i(i,t,o){return i.id===n?o[t]:void 0}var t=e.find("li.focus").next();if(t.is("li")){var n=t.attr("id"),o=l.filter(i)[0],s=o.position;r.animate({scrollTop:s+d},500),f()}},i(window).bind("load",function(){s(),o(),x(),b(),f()}),i(window).bind("resize",function(){o(),b(),x(),f()}),r.bind("scroll",function(){h=i(this).scrollTop(),u=h>a?"DOWN":"UP",a=h,x(),f()})})}}(jQuery);